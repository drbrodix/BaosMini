\chapter{Baos\+Mini Overview}
\hypertarget{index}{}\label{index}\index{BaosMini Overview@{BaosMini Overview}}
\hypertarget{index_autotoc_md0}{}\doxysubsection{\texorpdfstring{Introduction}{Introduction}}\label{index_autotoc_md0}
\hypertarget{index_autotoc_md1}{}\doxysubsubsection{\texorpdfstring{Generally about the project}{Generally about the project}}\label{index_autotoc_md1}
This is a minimalistic implementation of the BAOS Protocol created by \href{http://weinzierl.de/}{\texttt{ Weinzierl Engineering GmbH}}, aiming to serve as a stripped down tool for embedded building automation controller devices, allowing easy and quick access to a KNX bus. This can be done by the use of a BAOS device, which serves as a middle man between our controller and the target KNX bus, and by the use of this SDK, which provides a communication means with the BAOS device.\hypertarget{index_autotoc_md2}{}\doxysubsubsection{\texorpdfstring{Focus points and the minimalistic approach of the project}{Focus points and the minimalistic approach of the project}}\label{index_autotoc_md2}
Given the minimalistic nature of the project, while other connection types are possible, this SDK provides a solution exclusively for the intended FT1.\+2 serial connection, using Windows APIs. This project has been built entirely in pure C++. During the development, it was an important focus of the project to avoid any kind of significant dependency, and promote portability. To achieve this objective, it was attempted to minimize the use of both external and internal libraries, and stick to standard features. This means features available in C++ standards not more recent than C++11, and those available in most common C++ compilers. To further improve portability and reduce dependency on anything, be it libraries or developer environments, the linking of source files and headers to each other has been done using relative paths. Avoiding the use of a build system, such as Makefile or CMake, was also a deliberate choice. While these tools provide an excellent way to develop multiplatform projects, they are also prone to become the source of headaches when the project is imported into an environment, which is not meant to be used which such build systems. Instead, using the SDK should be as easy as cloning the project, and including the header files of the services, which we wish to use in our new project.\hypertarget{index_autotoc_md3}{}\doxysubsection{\texorpdfstring{Examples}{Examples}}\label{index_autotoc_md3}
Below can be found some basic examples, presenting how the communication can be built with a BAOS device, how telegrams can be created to use certain supported BAOS subservices, and how these telegrams can be eventually sent to the Object\+Server via serial connection.\hypertarget{index_autotoc_md4}{}\doxysubsubsection{\texorpdfstring{Serial Connection}{Serial Connection}}\label{index_autotoc_md4}
Before everything else, a \doxylink{class_serial_connection}{Serial\+Connection} object should be created, which serves as a means to send data to, and recieve data from the connected BAOS device. \begin{DoxyVerb}// Simply create a SerialConnection object, with a string
// of the name of the serial interface passed as a parameter

SerialConnection serialConnection("COM3");
\end{DoxyVerb}
\hypertarget{index_autotoc_md5}{}\doxysubsubsection{\texorpdfstring{Get\+Server\+Item}{Get\+Server\+Item}}\label{index_autotoc_md5}
\doxylink{class_get_server_item}{Get\+Server\+Item} is a BAOS subservice, which allows the retrieval of various data about the connected BAOS device. Refer to Appendix A in the BAOS documentation to find out more about the available server items. Not all server items are accessible in this implementation.

First, create a \doxylink{class_get_server_item}{Get\+Server\+Item} object with a pointer to the \doxylink{class_serial_connection}{Serial\+Connection} object passed to the constructor function as a parameter. \begin{DoxyVerb}GetServerItem getServerItem(&serialConnection);
\end{DoxyVerb}


Then, use the available member functions of the created \doxylink{class_get_server_item}{Get\+Server\+Item} object to communicate with the Object\+Server in the desired way. \begin{DoxyVerb}BaosVersion hardwareVersion = { 0 };
hardwareVersion             = getServerItem.getHardwareVersion();

BaosSerialNumber baosSerialNumber   = { 0 };
baosSerialNumber                    = getServerItem.getSerialNumber();

bool isProgrammingModeEnabled   = false;
isProgrammingModeEnabled        = getServerItem.getProgrammingMode();
\end{DoxyVerb}


A quick and easy way to print out certain information about the BAOS device in the standard output stream is also provided. For this, use the print\+Server\+Items() member function. When calling the function, pass the first server item to be retrieved, and then the number of server items requested as parameters. \begin{DoxyVerb}getServerItem.printServerItems(SERVER_ITEMS::SERIAL_NUMBER, 7);
\end{DoxyVerb}
\hypertarget{index_autotoc_md6}{}\doxysubsubsection{\texorpdfstring{Set\+Server\+Item}{Set\+Server\+Item}}\label{index_autotoc_md6}
\doxylink{class_set_server_item}{Set\+Server\+Item} is a BAOS subservice, which allows the setting of values of certain server items of the connected BAOS device. Refer to Appendix A in the BAOS documentation to find out more about the available server items. Not all server items are accessible in this implementation.

First, create a \doxylink{class_set_server_item}{Set\+Server\+Item} object with a pointer to the \doxylink{class_serial_connection}{Serial\+Connection} object passed to the constructor function as a parameter. \begin{DoxyVerb}SetServerItem setServerItem(&serialConnection);
\end{DoxyVerb}


Then, use the available member functions of the created \doxylink{class_set_server_item}{Set\+Server\+Item} object to communicate with the Object\+Server in the desired way. The function returns a boolean value, indicating whether the communication was successful. \begin{DoxyVerb}bool objectServerResponse   = false;
objectServerResponse        = setServerItem.setProgrammingMode(true);
\end{DoxyVerb}


The member functions also accept an optional decode boolean parameter, which allows the Object\+Server\textquotesingle{}s response to be printed out in the standard output stream. It is set to false by default. \begin{DoxyVerb}// Will print out ObjectServer response

setServerItem.setBaudrate(BAUDRATES::BAUDRATE_19200, true);
\end{DoxyVerb}
\hypertarget{index_autotoc_md7}{}\doxysubsubsection{\texorpdfstring{Get\+Datapoint\+Description}{Get\+Datapoint\+Description}}\label{index_autotoc_md7}
\doxylink{class_get_datapoint_description}{Get\+Datapoint\+Description} is a BAOS subservice, which allows the retrieval of various data about configured datapoints in the Object\+Server.

First, create a \doxylink{class_get_datapoint_description}{Get\+Datapoint\+Description} object with the ID of the datapoint, whose description we want to fetch from the Object\+Server, and with a pointer to the \doxylink{class_serial_connection}{Serial\+Connection} object, passed to the constructor function as parameters. \begin{DoxyVerb}GetDatapointDescription getDatapointDescription(5, &serialConnection);
\end{DoxyVerb}


Then, use the available member functions of the created \doxylink{class_get_datapoint_description}{Get\+Datapoint\+Description} object to get the desired data. \begin{DoxyVerb}DatapointTypes::DATAPOINT_VALUE_TYPES dpValueType = getDatapointDescription.getDpValueType();

ConfigFlags configFlags     = getDatapointDescription.getDpConfigFlags();
bool updateOnResponseFlag   = configFlags.updateOnResponse;
bool readOnInitFlag         = configFlags.readOnInit;
\end{DoxyVerb}


A quick and easy way to print out certain information about the datapoint in the standard output stream is also provided. For this, use the print\+Dp\+Description() member function. To print out the datapoint type, the datapoint value type, and the datapoint configuration flags, the respective flags need to be set by passing the function boolean parameters accordingly. \begin{DoxyVerb}// The datapoint type and the datapoint configuration flags
// will be output, the datapoint value type not.

getDatapointDescription.printDpDescription(true, false, true);
\end{DoxyVerb}
\hypertarget{index_autotoc_md8}{}\doxysubsubsection{\texorpdfstring{Get\+Datapoint\+Value}{Get\+Datapoint\+Value}}\label{index_autotoc_md8}
\doxylink{class_get_datapoint_value}{Get\+Datapoint\+Value} is a BAOS subservice, which allows the retrieval of datapoint values of configured datapoints in the Object\+Server. Refer to Appendix D in the BAOS documentation to find out more about the available datapoint types. Not all datapoint types are accessible in this implementation.

First, create a \doxylink{class_get_datapoint_value}{Get\+Datapoint\+Value} object with the ID of the datapoint, whose value we want to fetch from the Object\+Server, with the datatype of the datapoint, and with a pointer to the \doxylink{class_serial_connection}{Serial\+Connection} object, passed to the constructor function as parameters. \begin{DoxyVerb}GetDatapointValue getBoolValue(7, DatapointTypes::BOOLEAN, &serialConnection);

GetDatapointValue getSigned2ByteValue(9, DatapointTypes::SIGNED_VALUE_2BYTE, &serialConnection);
\end{DoxyVerb}


Then, use the available member functions of the created \doxylink{class_get_datapoint_value}{Get\+Datapoint\+Value} object to get the desired data. \begin{DoxyVerb}bool boolValue  = false;
boolValue       = getBoolValue.getBooleanValue();

short shortValue    = 0;
shortValue          = getSigned2ByteValue.getSignedValue2Byte();
\end{DoxyVerb}
\hypertarget{index_autotoc_md9}{}\doxysubsubsection{\texorpdfstring{Set\+Datapoint\+Value}{Set\+Datapoint\+Value}}\label{index_autotoc_md9}
\doxylink{class_set_datapoint_value}{Set\+Datapoint\+Value} is a BAOS subservice, which allows the setting of datapoint values of configured datapoints in the Object\+Server. Refer to Appendix D in the BAOS documentation to find out more about the available datapoint types. Not all datapoint types are accessible in this implementation.

First, create a \doxylink{class_set_datapoint_value}{Set\+Datapoint\+Value} object with the ID of the datapoint, whose value we want to set, and with a pointer to the \doxylink{class_serial_connection}{Serial\+Connection} object, passed to the constructor function as parameters. \begin{DoxyVerb}SetDatapointValue setDatapointValue17(17, &serialConnection);

SetDatapointValue setDatapointValue39(39, &serialConnection);
\end{DoxyVerb}


Then, use the available member functions of the created \doxylink{class_set_datapoint_value}{Set\+Datapoint\+Value} object to communicate with the Object\+Server in the desired way. When calling the function, pass the value, which the datapoint should be set to, and a command byte, which allows further configuration, what the telegram will be used for, as parameters. \begin{DoxyVerb}setDatapointValue17.setBoolean(true, CommandByte::SetNewValueAndSendOnBus);
\end{DoxyVerb}


The member functions also accept an optional decode boolean parameter, which allows the Object\+Server\textquotesingle{}s response to be printed out in the standard output stream. It is set to false by default. \begin{DoxyVerb}// Will print out ObjectServer response

setDatapointValue39.setFloatValue2Byte(-49.17f, CommandByte::SetNewValueAndSendOnBus, true);
\end{DoxyVerb}
 